# @2gis/mapgl

Async loader for [2gis MapGL API](https://docs.2gis.com/en/mapgl/overview) with typings.

**Browser usage only!**

## Installation

```
$ npm install @2gis/mapgl
```

## Usage

```typescript
import { load } from '@2gis/mapgl';
// or const { load } = require('@2gis/mapgl');

async function start() {
    const mapglAPI = await load();

    // container â€” id of the div element in your html
    const map = new mapglAPI.Map('container', {
        center: [55.31878, 25.23584],
        zoom: 13,
        key: 'Your API access key',
    });

    const marker = new mapglAPI.Marker(map, {
        coordinates: [55.31878, 25.23584],
    });
}

start();
```

**Without await/async:**

```typescript
load().then((mapglAPI) => {
    const map = new mapglAPI.Map('container', {
        center: [55.31878, 25.23584],
        zoom: 13,
        key: 'Your API access key',
    });
});
```

By default, `latest` version of MapGL API will be loaded (`https://mapgl.2gis.com/api/js`). But you can specify certain version of MapGL API to load:

```typescript
load('https://mapgl.2gis.com/api/js/v1.4.2').then((mapglAPI) => {});
```

Checkout our [release notes for MapGL API](https://docs.2gis.com/en/mapgl/overview/releases). Important to note, mapgl loader version is not equal to MapGL API version, cause it has its own features.

## mapgl namespace

@2gis/mapgl exports `load` function and `global.d.ts` file which you can reference to have access to mapgl typings.

To use types from mapgl namespace you need:

1. Add reference to node_modules/@2gis/mapgl/global.d.ts in your project.d.ts
1. Or reference in a module, where `load` function is imported

```typescript
/// <reference path="node_modules/@2gis/mapgl/global.d.ts" />
```

You can use typings for MapGL from mapgl namespace like this:

```typescript
let marker: mapgl.Marker
```

Checkout example for more information.